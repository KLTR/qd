<div id="add-attack-modal-wrapper">
  <div class="modal-header-attack">
    <app-svg-icon name="add_attack_vector" [size]="15" class="vector-icon"></app-svg-icon>
    Attack vectors
  </div>
  <p class="choose">Choose one or more attack vectors</p>
  <div class="picks-wrapper">
    <ul class="options">
      <li class="list-item" >
        <input type="checkbox" class="hidden-box" id="{{vector.vector+'-box'}}" [ngModel]="vector.checked"
               (change)="updateCheckedVectors(i, $event)">
        <div class="option-box" stopPropagation (click)="updateCheckedVectors(i)">
          <div class="vector-icon-wrapper">
            <app-svg-icon name="type-{{vector.vectorType}}" [size]="19"></app-svg-icon>
          </div>
          <div class="vector-info">
            <div class="vector-name">{{vector.name}}<span class="licenses">
                ( licenses: <span [ngClass]="{ 'warn': vector.license?.used === 1, 'error': vector.license?.used === 0 }">{{vector.license?.used}}</span>/{{vector.license?.total}} )
            </span></div>
            <div class="vector-state">
      <span>Vector currently: <span
        [ngClass]="{ 'error': !vector?.vectorState}"
        >
        {{ !isConnected ? 'Disconnected. Please check internet connection'
        : vector?.vectorState ? 'Ready' : 'Disconnected' }}

      </span>
      </span>
              <!-- 
                <ng-template #vectorStateTip>
                [ngbTooltip]="vector?.vectorState === 'OK' ? vectorStateTip : null" placement="right"

                <div [ngStyle]="{ 'min-width': '150px' }">
                  No. of available resources: {{ vector.maxActions }}
                </div>
              </ng-template> 
            -->
            </div>
          </div>
          <button class="reset-button modal-btn" stopPropagation (click)="resetServer(vector)">Reset</button>
        </div>
        <div class="type-{{vector.vectorType}} card-wrapper">
          <div class="main-area">
            <div class="email-wrapper inputs">
              <label for="identifier">Phone number/Email</label>
              <input [ngClass]="{ 'error': !!error }" [(ngModel)]="vector.inputs.identifier"
                     (keyup)="validateIdentifier($event.target.value, vector)" class="phone" id="identifier"
                     name="identifier"/>
              <span class="input-error" *ngIf="error">{{ error}}</span>
            </div>
            <!-- <ng-container *ngIf="vector.vector === 'link'">
              <div class="define-link-wrapper">
                <button class="define-button" id="define-button" name="email">Define link message <i
                  class="fa fa-pencil"
                  aria-hidden="true"></i></button>
              </div>
              <div class="preview-link-wrapper">
                <button class="preview-button" id="preview-button" name="preview">Preview</button>
              </div>
            </ng-container>
            <div class="text-wrapper inputs" *ngIf="vector.vector === 'banner'">
              <label for="text-banner">Text</label>
              <input class="text" id="text-banner" name="text" [(ngModel)]="vector.message"/>
            </div> -->
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="alert-msg" *ngIf="isEmpty">Please fill in the Required Fields</div>
  <div class="buttons-wrapper">
    <button class="cancel-button modal-btn"  (click)="activeModal.close()">Cancel</button>
    <button class="apply-button modal-btn" [ngClass]="{ 'disabled': isEmpty || hasErrors || !isConnected }"
            (click)="closeModalFunc()">Attack!
    </button>
  </div>
</div>
